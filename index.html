<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Easy Travel Planner</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{margin:0;font-family:Arial;background:#f4f6fa}
header{background:black;color:white;padding:15px;text-align:center;font-size:22px}
.container{max-width:800px;margin:auto;padding:20px}
input,select,button{width:100%;padding:10px;margin:8px 0;font-size:15px}
button{background:black;color:white;border:none;cursor:pointer}
.card{background:white;padding:15px;margin-top:20px;border-radius:6px;box-shadow:0 4px 8px rgba(0,0,0,0.1)}
.total{font-size:20px;font-weight:bold;margin-top:10px}
.section-title{font-size:18px;font-weight:bold;margin-top:20px}
.hidden{display:none}
.back-btn{background:#555;margin-top:20px}
</style>
</head>

<body>

<header>Easy Travel Planner</header>

<!-- PANTALLA 1 -->
<div class="container" id="pantalla1">

<h3>Planifica tu viaje</h3>

<input type="text" id="destino" placeholder="Destino (ej: Roma, Tokio, Buenos Aires)">
<input type="number" id="dias" placeholder="N√∫mero de d√≠as">
<input type="number" id="personas" placeholder="N√∫mero de pasajeros">

<select id="tipo">
<option value="romantico">Rom√°ntico</option>
<option value="aventura">Aventura</option>
<option value="familiar">Familiar</option>
<option value="cultural">Cultural</option>
</select>

<select id="presupuesto">
<option value="bajo">Presupuesto Bajo</option>
<option value="medio">Presupuesto Medio</option>
<option value="alto">Presupuesto Alto</option>
</select>

<button onclick="generarViaje()">Generar Plan</button>

</div>

<!-- PANTALLA 2 -->
<div class="container hidden" id="pantalla2">

<h2 id="tituloDestino"></h2>
<div id="contenidoResultado"></div>

<button class="back-btn" onclick="volver()">‚Üê Volver</button>
<button onclick="exportarPDF()">Exportar PDF</button>

</div>

<script>

// ACTIVIDADES CONCRETAS UNIVERSALES
const actividadesDetalladas = {
romantico:[
{ma√±ana:"Desayuno local con vistas", tarde:"Tour hist√≥rico privado", noche:"Cena gourmet rom√°ntica"},
{ma√±ana:"Museo emblem√°tico", tarde:"Paseo por el casco antiguo", noche:"Mirador al atardecer"}
],
aventura:[
{ma√±ana:"Ruta de senderismo", tarde:"Actividad deportiva guiada", noche:"Exploraci√≥n urbana nocturna"},
{ma√±ana:"Excursi√≥n natural", tarde:"Actividad acu√°tica", noche:"Cena informal local"}
],
familiar:[
{ma√±ana:"Parque recreativo", tarde:"Actividad cultural interactiva", noche:"Espect√°culo familiar"},
{ma√±ana:"Museo interactivo", tarde:"Zona natural adaptada", noche:"Cena familiar"}
],
cultural:[
{ma√±ana:"Visita a monumento principal", tarde:"Museo o galer√≠a hist√≥rica", noche:"Evento cultural local"},
{ma√±ana:"Centro hist√≥rico guiado", tarde:"Mercado tradicional", noche:"Teatro o espect√°culo t√≠pico"}
]
};

function generarViaje(){

let destino=document.getElementById("destino").value;
let dias=parseInt(document.getElementById("dias").value);
let personas=parseInt(document.getElementById("personas").value);
let tipo=document.getElementById("tipo").value;
let presupuesto=document.getElementById("presupuesto").value;

if(!destino || !dias || !personas){
alert("Completa todos los campos");
return;
}

// COSTES
let hotel, comida, actividadesCoste, transporte;

if(presupuesto==="bajo"){
hotel=60; comida=25; actividadesCoste=20; transporte=15;
}else if(presupuesto==="medio"){
hotel=120; comida=45; actividadesCoste=35; transporte=25;
}else{
hotel=250; comida=80; actividadesCoste=60; transporte=40;
}

let alojamientoTotal=hotel*dias;
let comidaTotal=comida*dias;
let actividadesTotal=actividadesCoste*dias;
let transporteTotal=transporte*dias;

let totalPersona=alojamientoTotal+comidaTotal+actividadesTotal+transporteTotal;
let totalViaje=totalPersona*personas;

// ITINERARIO DETALLADO
let itinerarioHTML="";
let actividadesLista=actividadesDetalladas[tipo];

for(let i=1;i<=dias;i++){

let actividad=actividadesLista[(i-1)%actividadesLista.length];

itinerarioHTML+=`
<div class="card">
<div class="section-title">D√≠a ${i}</div>
<p><strong>Ma√±ana:</strong> ${actividad.ma√±ana} en ${destino}</p>
<p><strong>Tarde:</strong> ${actividad.tarde} en ${destino}</p>
<p><strong>Noche:</strong> ${actividad.noche} en ${destino}</p>
</div>
`;
}

// MOSTRAR SEGUNDA PANTALLA
document.getElementById("pantalla1").classList.add("hidden");
document.getElementById("pantalla2").classList.remove("hidden");

document.getElementById("tituloDestino").innerHTML=
`Viaje a ${destino} - ${dias} d√≠as`;

document.getElementById("contenidoResultado").innerHTML=`
${itinerarioHTML}

<div class="card">
<h3>Resumen Econ√≥mico</h3>
<p>üè® Alojamiento: ‚Ç¨${alojamientoTotal}</p>
<p>üçΩ Comidas: ‚Ç¨${comidaTotal}</p>
<p>üéü Actividades: ‚Ç¨${actividadesTotal}</p>
<p>üöï Transporte: ‚Ç¨${transporteTotal}</p>
<p class="total">Total por persona: ‚Ç¨${totalPersona}</p>
<p class="total">Total del viaje (${personas} personas): ‚Ç¨${totalViaje}</p>
</div>
`;

}

function volver(){
document.getElementById("pantalla2").classList.add("hidden");
document.getElementById("pantalla1").classList.remove("hidden");
}

function exportarPDF(){
const { jsPDF } = window.jspdf;
const doc = new jsPDF();
doc.text("Easy Travel - Propuesta de Viaje",20,20);
doc.text("Consulta generada desde la aplicaci√≥n.",20,30);
doc.save("EasyTravel.pdf");
}

</script>

</body>
</html>
