<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Easy Travel Planner Pro</title>

<style>
body{margin:0;font-family:Arial;background:#eef1f7}
header{background:#0d47a1;color:white;padding:15px;text-align:center;font-size:22px}
.container{max-width:900px;margin:auto;padding:20px}
input,button{width:100%;padding:10px;margin:8px 0;font-size:15px;border-radius:6px;border:1px solid #ccc}
button{background:#0d47a1;color:white;border:none;cursor:pointer}
button:hover{opacity:0.9}
.card{background:white;padding:15px;margin-top:20px;border-radius:8px;box-shadow:0 4px 10px rgba(0,0,0,0.1)}
.section-title{font-size:18px;font-weight:bold;margin-top:10px}
.hidden{display:none}
.total{font-size:20px;font-weight:bold;margin-top:10px}
</style>
</head>

<body>

<header>Easy Travel Planner — Itinerario Profesional</header>

<!-- PANTALLA 1 -->
<div class="container" id="pantalla1">

<h3>Planifica tu viaje</h3>

<input type="text" id="origen" placeholder="Desde dónde sales">
<input type="text" id="destino" placeholder="Destino">
<input type="date" id="fechaSalida">
<input type="number" id="dias" placeholder="Número de días (mínimo 5)">
<input type="number" id="personas" placeholder="Número de personas">

<button onclick="generarViaje()">Generar Viaje</button>

</div>

<!-- PANTALLA 2 -->
<div class="container hidden" id="pantalla2">

<h2 id="tituloViaje"></h2>
<div id="resultado"></div>

<button onclick="volver()">← Volver</button>

</div>

<script>

// Normalizar texto
function normalizar(text){
return text.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim();
}

// ===================== ITINERARIOS 5 DÍAS (DÍA 4 LIBRE) =====================

const itinerarios = {

roma:[
[
"9:00 Coliseo",
"11:00 Foro Romano",
"15:00 Plaza Venecia",
"18:00 Fontana di Trevi",
"20:30 Cena en Trastevere"
],
[
"9:00 Vaticano",
"12:00 Basílica San Pedro",
"15:30 Castillo Sant'Angelo",
"18:30 Piazza Navona"
],
[
"9:30 Panteón",
"11:30 Plaza de España",
"16:00 Villa Borghese",
"19:30 Mirador Gianicolo"
],
[
"DÍA LIBRE — Explorar barrios, compras o descanso"
],
[
"9:00 Excursión a Tivoli",
"14:00 Villa d'Este",
"19:00 Cena típica romana"
]
],

paris:[
[
"9:00 Torre Eiffel",
"11:30 Arco del Triunfo",
"15:00 Campos Elíseos",
"19:00 Crucero Sena"
],
[
"9:00 Museo Louvre",
"14:00 Jardín Tullerías",
"17:00 Notre Dame"
],
[
"9:30 Montmartre",
"12:00 Sacré-Cœur",
"16:00 Barrio Latino"
],
[
"DÍA LIBRE — Compras o Versalles opcional"
],
[
"9:00 Palacio de Versalles",
"16:00 Galerías Lafayette",
"20:00 Moulin Rouge"
]
],

"nueva york":[
[
"9:00 Estatua Libertad",
"13:00 Wall Street",
"17:00 Brooklyn Bridge",
"20:00 Times Square"
],
[
"9:00 Central Park",
"12:00 Museo MET",
"18:00 Quinta Avenida"
],
[
"9:00 Empire State",
"13:00 High Line",
"16:00 Chelsea Market"
],
[
"DÍA LIBRE — Compras o Brooklyn alternativo"
],
[
"9:00 Bronx Zoo",
"14:00 Hudson Yards",
"19:00 Broadway"
]
]

};

// ===================== TEMPORADA =====================

function multiplicadorTemporada(destino,fecha){
let mes=new Date(fecha).getMonth()+1;
destino=normalizar(destino);

if(destino==="roma"){
if([5,6,7,8,9].includes(mes)) return 1.4;
if([3,4,10].includes(mes)) return 1.1;
return 0.9;
}

if(destino==="paris"){
if([6,7,8,9].includes(mes)) return 1.35;
if([4,5,10].includes(mes)) return 1.1;
return 0.95;
}

if(destino==="nueva york"){
if([6,7,8,12].includes(mes)) return 1.5;
if([4,5,9,10].includes(mes)) return 1.15;
return 0.9;
}

return 1;
}

// ===================== GENERAR VIAJE =====================

function generarViaje(){

let origen=document.getElementById("origen").value;
let destinoOriginal=document.getElementById("destino").value;
let destino=normalizar(destinoOriginal);
let fecha=document.getElementById("fechaSalida").value;
let dias=parseInt(document.getElementById("dias").value);
let personas=parseInt(document.getElementById("personas").value);

if(!origen||!destino||!fecha||!dias||!personas){
alert("Completa todos los campos");
return;
}

if(dias<5){
alert("El itinerario mínimo es de 5 días");
return;
}

// Precios base
let hotel=130;
let comida=50;
let actividad=45;
let transporte=25;
let vuelo=300;

let mult=multiplicadorTemporada(destino,fecha);

hotel*=mult;
actividad*=mult;
vuelo*=mult;

let total=(hotel*dias*personas)+(comida*dias*personas)+(actividad*dias*personas)+(transporte*dias*personas)+(vuelo*personas);

// Generar itinerario
let html="";

for(let i=0;i<dias;i++){

html+=`<div class="card"><div class="section-title">Día ${i+1}</div>`;

if(itinerarios[destino]){
let plan=itinerarios[destino][i] || ["Día adicional libre para explorar"];
plan.forEach(act=>{
html+=`<p>${act}</p>`;
});
}else{
html+=`
<p>9:00 Tour centro histórico</p>
<p>12:00 Museo principal</p>
<p>16:00 Zona emblemática</p>
<p>20:00 Cena local</p>
`;
}

html+=`</div>`;
}

document.getElementById("pantalla1").classList.add("hidden");
document.getElementById("pantalla2").classList.remove("hidden");

document.getElementById("tituloViaje").innerHTML=
`Viaje ${origen} → ${destinoOriginal} (${dias} días)`;

document.getElementById("resultado").innerHTML=
html+`
<div class="card">
<h3>Estimación según demanda</h3>
<p>Total aproximado: €${Math.round(total)}</p>
</div>
`;

}

function volver(){
document.getElementById("pantalla2").classList.add("hidden");
document.getElementById("pantalla1").classList.remove("hidden");
}

</script>

</body>
</html>
